/* SongDetails - versión mejorada con hero, controles y relacionadas */
.song-details {
  padding: 40px 24px;
  min-height: calc(100vh - 180px);
  background: var(--color-bg, #FAF8F4);
}

/* Loading state */
.SongDetails__loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  gap: 16px;
  color: var(--text-muted);
}

/* Hero con fondo blur y overlay */
.SongDetails__hero {
  position: relative;
  height: 520px;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.25);
  margin: 0 auto 40px;
}

.SongDetails__heroBg { position: absolute; inset: 0; }
.SongDetails__heroBg img {
  width: 100%; height: 100%; object-fit: cover;
  filter: blur(30px) brightness(0.7);
  transform: scale(1.15);
}
.SongDetails__heroOverlay { position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(28,43,58,0.7) 0%, rgba(28,43,58,0.95) 100%); }

.SongDetails__heroContent {
  position: relative; z-index: 2;
  height: 100%;
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 48px;
  align-items: end;
  padding: 60px 40px 40px;
  max-width: 1400px; margin: 0 auto;
}

.SongDetails__left { display: flex; flex-direction: column; }
.SongDetails__coverWrap { position: relative; border-radius: 16px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.5); }
.SongDetails__cover { width: 100%; aspect-ratio: 1/1; object-fit: cover; display: block; }
.SongDetails__coverPlay { position: absolute; inset: 0; margin: auto; width: 84px; height: 84px; border-radius: 50%; border: none; background: #F25C43; color: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer; opacity: 0; transform: scale(0.9); transition: all .25s ease; box-shadow: 0 8px 32px rgba(242,92,67,0.55); }
.SongDetails__coverWrap:hover .SongDetails__coverPlay { opacity: 1; transform: scale(1); }
.SongDetails__nowPlaying { position: absolute; left: 16px; right: 16px; bottom: 16px; padding: 12px 14px; background: rgba(69,182,179,0.95); color: #fff; border-radius: 8px; display: inline-flex; align-items: center; gap: 10px; font-weight: 700; font-size: 13px; box-shadow: 0 4px 16px rgba(69,182,179,0.4); }
.SongDetails__wave { display: inline-flex; gap: 3px; height: 16px; align-items: end; }
.SongDetails__wave span { width: 3px; background: currentColor; border-radius: 2px; animation: sd-wave 1.1s ease-in-out infinite; }
.SongDetails__wave span:nth-child(2) { animation-delay: .2s }
.SongDetails__wave span:nth-child(3) { animation-delay: .4s }

@keyframes sd-wave { 0%,100%{ height: 6px } 50%{ height: 16px } }

.SongDetails__right { color: #fff; }
.SongDetails__type { display: inline-block; padding: 6px 14px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.35); border-radius: 20px; font-size: 12px; font-weight: 800; letter-spacing: 1px; -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); margin-bottom: 16px; }
.SongDetails__title { margin: 0 0 12px; font-size: 72px; line-height: 1; font-weight: 900; letter-spacing: -2px; text-shadow: 0 4px 20px rgba(0,0,0,0.5); color: #fff !important; }
.SongDetails__artist { margin: 0 0 20px; font-size: 26px; font-weight: 700; opacity: .95; color: #fff !important; }
.SongDetails__meta { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; font-size: 15px; font-weight: 600; opacity: .95; color: #fff !important; }

/* Super-specific overrides to beat .MainLayout__content h1,h2... which uses !important */
.MainLayout__content .SongDetails__title,
.MainLayout__content .SongDetails__artist,
.MainLayout__content .SongDetails__meta {
  color: #fff !important;
}
.SongDetails__meta span::after { content: '•'; margin-left: 10px; opacity: .5; }
.SongDetails__meta span:last-child::after { content: '' }
.SongDetails__stats { display: grid; grid-template-columns: repeat(3, minmax(120px, 1fr)); gap: 18px; margin-top: 22px; }
.SongDetails__statValue { font-size: 26px; font-weight: 900; color: #F25C43; margin-bottom: 4px; }
.SongDetails__statLabel { font-size: 12px; opacity: .85; }

/* Tarjeta de controles */
.SongDetails__controlsCard { max-width: 1400px; margin: -60px auto 40px; padding: 32px; background: #fff; border: 1px solid rgba(28,43,58,0.08); border-radius: 20px; box-shadow: 0 20px 60px rgba(28,43,58,0.15); }
.SongDetails__mainControls { display: flex; justify-content: center; align-items: center; gap: 22px; margin-bottom: 22px; }
.SongDetails__ctrl { display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: all .2s ease; }
.SongDetails__ctrl--primary { width: 80px; height: 80px; border-radius: 50%; border: none; background: #F25C43; color: #fff; box-shadow: 0 8px 32px rgba(242,92,67,0.45); }
.SongDetails__ctrl--secondary { width: 56px; height: 56px; border-radius: 50%; border: 2px solid rgba(28,43,58,0.12); background: transparent; color: #1C2B3A; }
.SongDetails__ctrl:hover { transform: scale(1.06) }
.SongDetails__ctrl:active { transform: scale(0.96) }

.SongDetails__progress { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 12px; margin-bottom: 18px; }
.SongDetails__time { font-size: 12px; font-weight: 700; color: #444B54; min-width: 44px; text-align: center; font-variant-numeric: tabular-nums; }
.SongDetails__progress input[type="range"]{ -webkit-appearance:none; appearance:none; width:100%; height:8px; background: rgba(28,43,58,0.08); border-radius: 4px; outline:none; cursor:pointer; transition: height .15s ease; }
.SongDetails__progress input[type="range"]:hover{ height:10px }
.SongDetails__progress input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%; background:#F25C43; box-shadow:0 2px 6px rgba(0,0,0,.25) }
.SongDetails__progress input[type="range"]::-webkit-slider-runnable-track{ background: linear-gradient(to right, #F25C43 0%, #F25C43 var(--played,0%), rgba(28,43,58,0.12) var(--played,0%), rgba(28,43,58,0.12) 100%); height:8px; border-radius:4px }

.SongDetails__actions { display:flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
.SongDetails__btn { display:inline-flex; align-items:center; gap:10px; padding: 14px 26px; border-radius: 999px; font-weight: 700; font-size: 15px; cursor:pointer; transition: all .2s ease; border: none; background: rgba(28,43,58,0.06); color: #1C2B3A; }
.SongDetails__btn.is-active { background: rgba(242,92,67,0.12); color: #F25C43; }
.SongDetails__btn:hover { transform: scale(1.05) }
.SongDetails__btn--secondary { background: transparent; border: 2px solid rgba(28,43,58,0.12); color: #1C2B3A; }

/* Lyrics */
.SongDetails__lyrics { max-width: 1000px; margin: 24px auto; background:#fff; border:1px solid rgba(28,43,58,0.08); border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
.SongDetails__lyricsTitle { margin: 0; padding: 18px 22px; border-bottom: 1px solid rgba(28,43,58,0.08); font-size: 18px; font-weight: 900; color: var(--color-primary, #1C2B3A); }
.SongDetails__lyricsBody { padding: 18px 22px; }
.SongDetails__lyricsBody p { margin: 0 0 8px; color: #444B54; }

/* Relacionadas */
.SongDetails__related { max-width: 1400px; margin: 28px auto 0; }
.SongDetails__sectionTitle { font-size: 22px; font-weight: 900; color: var(--color-primary, #1C2B3A); margin: 0 0 14px; }
.SongDetails__relatedGrid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; }
.SongDetails__relatedCard { display:flex; align-items:center; gap:12px; padding: 12px; background:#fff; border:1px solid rgba(28,43,58,0.08); border-radius: 12px; text-decoration: none; color: inherit; box-shadow: 0 2px 8px rgba(28,43,58,0.08); transition: transform .2s ease, box-shadow .2s ease; }
.SongDetails__relatedCard img { width:64px; height:64px; border-radius: 8px; object-fit: cover; flex-shrink: 0; box-shadow: 0 4px 8px rgba(0,0,0,0.1) }
.SongDetails__relatedInfo { flex: 1; min-width: 0 }
.SongDetails__relatedInfo h4 { margin: 0 0 4px; font-weight: 800; font-size: 15px; color: var(--color-primary,#1C2B3A); white-space: nowrap; overflow: hidden; text-overflow: ellipsis }
.SongDetails__relatedInfo p { margin: 0; color: #444B54; font-size: 13px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis }
.SongDetails__relatedPlay { width: 36px; height: 36px; border-radius: 50%; background: #F25C43; color: #fff; display:flex; align-items:center; justify-content:center; opacity: 0; transform: scale(0.9); transition: all .2s ease }
.SongDetails__relatedCard:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(28,43,58,0.12) }
.SongDetails__relatedCard:hover .SongDetails__relatedPlay { opacity: 1; transform: scale(1) }

/* Error */
.SongDetails__error { max-width: 800px; margin: 60px auto; padding: 40px; background:#fff; border:1px solid rgba(28,43,58,0.08); border-radius: 16px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.08) }

/* Responsive */
@media (max-width: 1024px){
  .SongDetails__heroContent{ grid-template-columns: 280px 1fr }
  .SongDetails__title{ font-size: 54px }
}
@media (max-width: 768px){
  .SongDetails__hero{ height: auto }
  .SongDetails__heroContent{ grid-template-columns: 1fr; align-items: center; text-align: center; padding: 28px 18px }
  .SongDetails__left{ align-items: center }
  .SongDetails__title{ font-size: 34px }
  .SongDetails__artist{ font-size: 18px }
  .SongDetails__stats{ grid-template-columns: repeat(3, 1fr) }
  .SongDetails__controlsCard{ margin: -20px auto 28px; padding: 22px }
}
